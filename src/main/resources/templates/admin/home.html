<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:insert="~{/fragments :: head}"></head>

<body>

    <!--Top Navigation Bar  -->
    <section th:insert="~{/fragments :: header}"></section>


    <!--Title -->
    <div class="container-fluid ">
        <br>
        <h3 th:text = "${title}"></h3>
        <br>
    </div>



    <div
        sec:authorize="hasAuthority('ADMIN')"
    >
        <div class="container">
            <div class="row">
                <h4 >List of player:</h4>
                <table class = "table table-dark bdr">
                    <thead>
                    <tr>
                        <th scope = "col">ID</th>
                        <th scope = "col">Register date</th>
                        <th scope = "col">Name</th>
                        <th scope = "col">Surname</th>
                        <th scope = "col">Email</th>
                        <th scope = "col">Amount of Games </th>
                        <th scope = "col">Won games </th>
                        <th scope = "col">Average mark</th>
                        <th scope = "col">Success rate  </th>
                        <th scope = "col">Role  </th>
                        <th scope = "col">Update </th>
                        <th scope = "col">Play </th>
                        <th scope = "col">Delete  </th>
<!--                            <th scope = "col">Delete game  </th>-->
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="player: ${players}">
                        <td th:text = "${player.id}"></td>
                        <td th:text = "${player.registerDate}"></td>
                        <td th:text = "${player.name}"></td>
                        <td th:text = "${player.surname}"></td>
                        <td th:text = "${player.email}"></td>
                        <td th:text = "${player.amountOfGames}"></td>
                        <td th:text = "${player.wonGames}"></td>
                        <td th:text = "${player.averageMark}"></td>
                        <td th:text = "${player.successRate}"></td>
                        <td th:text = "${player.role}"></td>
                        <td>
                            <a class="btn btn-warning btn-sm" th:href="@{/page/update/{id}(id=${player.id})}"
                               th:text="Edit">

                            </a>
                        </td>
                        <td>
                            <a class="btn btn-success btn-sm" th:href="@{/page/play/{id}(id=${player.id})}"
                               th:text="Play">

                            </a>
                        </td>
                        <td>
                            <a class="btn btn-danger btn-sm" th:href="@{/page/delete/{id}(id=${player.id})}"
                               th:text="Delete"
                               onclick="return confirm('Are you sure deleting games of this player?')">
<!--                               onclick="{return confirm, are you sure deleting games of {name}(name=${player.name})}  " >-->
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                </div>
            </div>
    </div>





<!--Bellow Bar -->
<div>
    <section th:insert="~{/fragments :: find-your-branch}"></section>
    <footer id="footer" th:insert="~{/fragments :: footer}"> </footer >
</div>

</body>
</html>