<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:insert="~{/fragments/fragments :: head}"></head>

<body>

    <!--Top Navigation Bar  -->
    <section th:insert="~{/fragments/fragments :: header}"></section>


    <!--Title -->
    <div class="container-fluid ">
        <br>
        <h3 th:text = "${title}"></h3>
        <br>
    </div>

    <div class="container-fluid">
        <h6>Welcome</h6>
        <!-- Show this content if the user is not authenticated -->
        <div sec:authorize="!isAuthenticated()">
            <p>Welcome, guest! Please log in to access more features.</p>
            <a th:href="@{/page/login}">Log in</a>
        </div>

    </div>


    <div
            sec:authorize="isAuthenticated()"
            class="container-fluid"
    >
        <p>Bienvenid@ <span sec:authentication="principal.username"> </span></p>
        <p>Roles: <span sec:authentication="principal.authorities"></span></p>


        <br>
        <hr>
        <div sec:authorize="hasAuthority('USER')">Text visible to user.</div>
        <div sec:authorize="hasAuthority('ADMIN')">Text visible to admin.</div>
        <br>

    </div>





<!--Bellow Bar -->
<div>
    <section th:insert="~{/fragments/fragments :: find-your-branch}"></section>
    <footer id="footer" th:insert="~{/fragments/fragments :: footer}"> </footer >
</div>

</body>
</html>